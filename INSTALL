 ____  _    _            _
 | __ )| | _| |_ ___  ___| |__
 |  _ \| |/ / __/ _ \/ __| '_ \
 | |_) |   <| ||  __/ (__| | | |
 |____/|_|\_\\__\___|\___|_| |_|  Z2Z - Version 0.9.9c - Mantido por BKTECH <http://www.bktech.com.br>
 
################################ Copyright (C) 2016 Fabio Soares Schmidt <fabio@respirandolinux.com.br> #######################

DISTRIBUTED UNDER THE CREATIVE COMMONS LICENSE: Attribution-NonCommercial-ShareAlike (CC BY-NC-SA)

This license allows others to remix, tweak, and build upon the original work non-commercially, as long as they attribute
to the CREATOR due credit (original banner and Copyright), and that they license new creations under the SAME terms. This program is
distributed in the hope that it may be useful, but WITHOUT ANY WARRANTY; without an implied warranty of FITNESS for any MARKET or
PARTICULAR APPLICATION.
 
################################################ ################################################ ############################
 
 Contact:
 
 Website: http://www.bktech.com.br
 Email: z2z@bktech.com.br

################################################ ################################################ ############################

 ***** INSTALLATION ******
 
As it is a shell program, the Z2Z tool does not require installation, simply extract its contents, grant permission and execute the command ./z2z.sh to start the migration procedure.
the program will check its dependencies and confirm that the administrator wants to run it before starting to execute the export routines.

 *****USE ******

# 1. Export
 
The Z2Z program must be run with the Zimbra user on the migration source server. Once execution is confirmed, the program will
export class of service (COS) information, accounts, nicknames and distribution lists in the Zimbra directory. This includes preserving all account information, including the password (if external authentication is not being used).
***The administrator can choose whether to import the ADMIN account

When exporting accounts***, Zimbra service accounts are excluded from the list, avoiding any impact on the new environment, for example:
-Account for SPAM
 -Non-SPAM (HAM) account
 -Account for virus QUARANTINE
 -Account for GALSYNC
 -Service accounts

The program will also allow, at the time of the information export operation, to modify the hostname of the Zimbra server, for scenarios where the hostname of the source and destination servers are different.

At first, the program does not EXECUTE the export of mailboxes (content), batch files are generated within the export directory.
This allows the administrator to execute the export according to the strategy he wishes to follow for the migration, dividing the accounts for parallel executions, for example. The batch file is generated by executing the native Zimbra command "zmmailbox", which will allow the export and import of mailboxes, which includes:

 -Email (preserving the folder hierarchy and all message labels)
 -Schedule
 -File Holder
 -Tasks
 -Preferences
To avoid exporting unnecessary content, two separate batch files are created within the export directory for the TRASH and SPAM folders, making it optional for the administrator to export and/or import these contents.

# 2. Import
 
For import, the Z2Z "export" directory, which was created on the origin server, must be copied in full to the new server. The entire import procedure will also be performed with the Zimbra user on the new server.
In this version (0.9), environment settings are not being handled, which need to be mapped and configured manually. BEFORE starting the import process, the administrator MUST CREATE ALL DOMAINS IN THE ENVIRONMENT.

First, the LDAP records must be imported, the "importar_ldap.sh" script will carry out the necessary checks and execute the import in the correct order.
The import of mailboxes must be carried out later, running the script "script_import_FULL.sh" or according to the defined strategy. If the SPAM and/or TRASH folders were exported, the scripts "script_import_Trash.sh" and "script_import_Junk.sh" must be executed ***.
***Importing the SPAM and/or TRASH folders must be performed AFTER importing the main box. For the main mailbox, the reset method is used, which removes all previous content in the mailbox.